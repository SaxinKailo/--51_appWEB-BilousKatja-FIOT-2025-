<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>MealPrep Buddy ‚Äî –ü–ª–∞–Ω</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>

<header class="site-header">
  <div class="container header-row">
    <strong>üç≤ MealPrep Buddy</strong>
    <nav class="nav">
      <a href="hero.html">–ì–æ–ª–æ–≤–Ω–∞</a>
      <a href="planner.html" aria-current="page">–ü–ª–∞–Ω —Ç–∏–∂–Ω—è</a>
      <a href="shopping.html">–°–ø–∏—Å–æ–∫ –ø–æ–∫—É–ø–æ–∫</a>
    </nav>
  </div>
</header>

<main>
<section class="section">
<div class="container">
<h2>–ü–ª–∞–Ω —Ö–∞—Ä—á—É–≤–∞–Ω–Ω—è</h2>

<div id="plannerGrid"></div>

<div style="margin-top:20px">
  <a class="btn" href="shopping.html">–ü–µ—Ä–µ–π—Ç–∏ –¥–æ –ø–æ–∫—É–ø–æ–∫</a>
</div>
</div>
</section>
</main>

<script>
var MEALS = {
  "–°–∞–ª–∞—Ç –∑ —Ç—É–Ω—Ü–µ–º": ["–¢—É–Ω–µ—Ü—å", "–°–∞–ª–∞—Ç", "–û–≥—ñ—Ä–æ–∫"],
  "–ü–∞—Å—Ç–∞ –∑ –æ–≤–æ—á–∞–º–∏": ["–ü–∞—Å—Ç–∞", "–ü–µ—Ä–µ—Ü—å", "–¶–∏–±—É–ª—è"],
  "–ì—Ä–µ—á–∫–∞ + –∫—É—Ä–∫–∞": ["–ì—Ä–µ—á–∫–∞", "–ö—É—Ä–∫–∞"],
  "–û–º–ª–µ—Ç": ["–Ø–π—Ü—è", "–°–∏—Ä"]
};

var DAYS = [
  {k:"mon", l:"–ü–Ω"},
  {k:"tue", l:"–í—Ç"},
  {k:"wed", l:"–°—Ä"},
  {k:"thu", l:"–ß—Ç"},
  {k:"fri", l:"–ü—Ç"},
  {k:"sat", l:"–°–±"},
  {k:"sun", l:"–ù–¥"}
];

var defaultPlan = {
  mon:{lunch:"–°–∞–ª–∞—Ç –∑ —Ç—É–Ω—Ü–µ–º", dinner:"–ü–∞—Å—Ç–∞ –∑ –æ–≤–æ—á–∞–º–∏"},
  tue:{lunch:"–ì—Ä–µ—á–∫–∞ + –∫—É—Ä–∫–∞", dinner:"–û–º–ª–µ—Ç"}
};

function loadPlan(){
  var p = localStorage.getItem("plan");
  return p ? JSON.parse(p) : defaultPlan;
}

function savePlan(p){
  localStorage.setItem("plan", JSON.stringify(p));
}

function render(){
  var plan = loadPlan();
  var grid = document.getElementById("plannerGrid");
  grid.innerHTML = "";

  for(var i=0;i<DAYS.length;i++){
    var d = DAYS[i];
    var day = plan[d.k] || {};

    var row = document.createElement("div");
    row.innerHTML =
      "<strong>"+d.l+"</strong><br>" +
      "–û–±—ñ–¥: <select data-day='"+d.k+"' data-slot='lunch'>"+opts(day.lunch)+"</select> " +
      "–í–µ—á–µ—Ä—è: <select data-day='"+d.k+"' data-slot='dinner'>"+opts(day.dinner)+"</select>";

    grid.appendChild(row);
  }

  var sels = grid.getElementsByTagName("select");
  for(var s=0;s<sels.length;s++){
    sels[s].onchange = function(){
      var p = loadPlan();
      var d = this.getAttribute("data-day");
      var sl = this.getAttribute("data-slot");
      if(!p[d]) p[d]={};
      p[d][sl]=this.value;
      savePlan(p);
    };
  }
}

function opts(sel){
  var h = "<option value=''>‚Äî</option>";
  for(var m in MEALS){
    h+="<option"+(m===sel?" selected":"")+">"+m+"</option>";
  }
  return h;
}

render();
</script>

<footer class="site-footer">
  <div class="container">
    –ö–æ–Ω—Ç–∞–∫—Ç–∏: <a href="mailto:contact@example.com">contact@example.com</a>
  </div>
</footer>

</body>
</html>
